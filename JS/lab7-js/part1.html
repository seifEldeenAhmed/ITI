<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carousel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>

<body class="d-flex justify-content-center align-items-center">
    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators bg-black">
        <button onclick="jumpTo(0)" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="myindicator active" aria-label="Slide 1" aria-current="true"></button>
        <button onclick="jumpTo(1)" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2" class="myindicator"></button>
        <button onclick="jumpTo(2)" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3" class="myindicator"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="assets/3996_anime.jpg" class="d-block w-100" alt="Anime wallpaper">
            </div>
            <div class="carousel-item">
                <img src="assets/download.jpg" class="d-block w-100" height="400px" alt="luffy from one piece">
            </div>
            <div class="carousel-item">
                <img src="assets/e33c2fa94c03efa06678116f80d62d0d_708x.webp" class="d-block w-100" height="400px"
                    alt="luffy from onepiece celebrating">
            </div>
        </div>
        <button onclick="showPrev()" class="carousel-control-prev" type="button"
            data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button onclick="showNext()" class="carousel-control-next" type="button"
            data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <script>
        var slides = document.querySelectorAll('.carousel-item');
        var indicator= document .querySelectorAll('.myindicator')
        var myCurrentPreview = 0;
        var myNextPreview = 0;
        var myPreviousPreview = 0;
        function isActive(slide) {
            if (slide.className.split(' ').pop() === 'active') {
                return true
            }
            else {
                return false
            }
        }
        function showNext() {

            var activityStatus;
            for (var i = 0; i < slides.length; i++) {
                if (isActive(slides[i])) {
                    activityStatus = slides[i].className.split(' ').pop()
                    slides[i].className = slides[i].className.split(' ')[0]
                    myCurrentPreview=i

                }
            }
            myNextPreview=myCurrentPreview+1
            myPreviousPreview=myCurrentPreview-1
            if (slides[myNextPreview]) {
                setTimeout(() => {
                    slides[myNextPreview].classList.add(`${activityStatus}`)
                    indicator[myNextPreview].classList.add(`${activityStatus}`)
                }, 500)

            }
            else {
                setTimeout(() => {
                    slides[myNextPreview - 1].className = slides[myNextPreview - 1].className.split(' ')[0]
                    indicator[myNextPreview - 1].className = indicator[myNextPreview - 1].className.split(' ')[0]
                    slides[0].classList.add(`${activityStatus}`)
                    indicator[0].classList.add(`${activityStatus}`)
                    myNextPreview = 0;

                }, 500);

            }


        }

        function showPrev() {
            var activityStatus;
            for (var i = 0; i < slides.length; i++) {
                if (isActive(slides[i])) {
                    activityStatus = slides[i].className.split(' ').pop()
                    slides[i].className = slides[i].className.split(' ')[0]
                    myCurrentPreview=i
                }
            }
            myNextPreview=myCurrentPreview+1
            myPreviousPreview=myCurrentPreview-1
            if (slides[myPreviousPreview]) {
                setTimeout(() => {
                    slides[myPreviousPreview].classList.add(`${activityStatus}`)
                    indicator[myPreviousPreview].classList.add(`${activityStatus}`)
                }, 500)

            }
            else {
                setTimeout(() => {
                    slides[myCurrentPreview].className = slides[myCurrentPreview].className.split(' ')[0]
                    indicator[myCurrentPreview].className = indicator[myCurrentPreview].className.split(' ')[0]
                    slides[slides.length-1].classList.add(`${activityStatus}`)
                    indicator[slides.length-1].classList.add(`${activityStatus}`)
                    myNextPreview = 0;
                }, 500);

            }


        }
        function jumpTo(slideNumber) {
            var activityStatus
            for (var i = 0; i < slides.length; i++) {
                if (isActive(slides[i])) {
                    activityStatus = slides[i].className.split(' ').pop()
                    slides[i].className = slides[i].className.split(' ')[0]
                    indicator[i].className = indicator[i].className.split(' ')[0]
                }
            }
            slides[slideNumber].classList.add(`${activityStatus}`)
            indicator[slideNumber].classList.add(`${activityStatus}`)
        }

    </script>
</body>

</html>